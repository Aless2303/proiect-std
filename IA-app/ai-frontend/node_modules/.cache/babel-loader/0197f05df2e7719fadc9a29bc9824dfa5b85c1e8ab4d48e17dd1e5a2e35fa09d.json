{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"upload-section\"\n};\nconst _hoisted_3 = [\"disabled\"];\nconst _hoisted_4 = {\n  key: 0,\n  class: \"result-section\"\n};\nconst _hoisted_5 = {\n  class: \"history-section\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[5] || (_cache[5] = _createElementVNode(\"h1\", null, \"Aplicație AI - Detectare Fețe\", -1)), _createElementVNode(\"div\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"h2\", null, \"Încarcă o imagine\", -1)), _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[0] || (_cache[0] = (...args) => $options.handleFileUpload && $options.handleFileUpload(...args)),\n    accept: \"image/*\"\n  }, null, 32), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.uploadImage && $options.uploadImage(...args)),\n    disabled: !$data.file\n  }, \"Încarcă\", 8, _hoisted_3)]), $data.result ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", null, \"Rezultat:\", -1)), _createElementVNode(\"p\", null, \"Fișier: \" + _toDisplayString($data.result.fileName), 1), _createElementVNode(\"p\", null, \"Număr fețe detectate: \" + _toDisplayString($data.result.faces.length), 1), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.result.faces, (face, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index\n    }, \" Față \" + _toDisplayString(index + 1) + \": Coordonate (\" + _toDisplayString(face.faceRectangle.left) + \", \" + _toDisplayString(face.faceRectangle.top) + \") \", 1);\n  }), 128))])])) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_5, [_cache[4] || (_cache[4] = _createElementVNode(\"h2\", null, \"Istoric Cereri\", -1)), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.history, request => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: request.id\n    }, _toDisplayString(request.timestamp) + \" - \" + _toDisplayString(request.file_name) + \": \" + _toDisplayString(JSON.parse(request.result).length) + \" fețe detectate \", 1);\n  }), 128))])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","type","onChange","_cache","args","$options","handleFileUpload","accept","onClick","uploadImage","disabled","$data","file","_hoisted_3","result","_hoisted_4","_toDisplayString","fileName","faces","length","_Fragment","_renderList","face","index","faceRectangle","left","top","_createCommentVNode","_hoisted_5","history","request","id","timestamp","file_name","JSON","parse"],"sources":["D:\\anu3\\sem2\\std\\proiect\\IA-app\\ai-frontend\\src\\App.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h1>Aplicație AI - Detectare Fețe</h1>\n    <div class=\"upload-section\">\n      <h2>Încarcă o imagine</h2>\n      <input type=\"file\" @change=\"handleFileUpload\" accept=\"image/*\" />\n      <button @click=\"uploadImage\" :disabled=\"!file\">Încarcă</button>\n    </div>\n    <div v-if=\"result\" class=\"result-section\">\n      <h2>Rezultat:</h2>\n      <p>Fișier: {{ result.fileName }}</p>\n      <p>Număr fețe detectate: {{ result.faces.length }}</p>\n      <ul>\n        <li v-for=\"(face, index) in result.faces\" :key=\"index\">\n          Față {{ index + 1 }}: Coordonate ({{ face.faceRectangle.left }}, {{ face.faceRectangle.top }})\n        </li>\n      </ul>\n    </div>\n    <div class=\"history-section\">\n      <h2>Istoric Cereri</h2>\n      <ul>\n        <li v-for=\"request in history\" :key=\"request.id\">\n          {{ request.timestamp }} - {{ request.file_name }}: {{ JSON.parse(request.result).length }} fețe detectate\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      file: null,\n      result: null,\n      history: []\n    };\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.file = event.target.files[0];\n    },\n    async uploadImage() {\n      const formData = new FormData();\n      formData.append('image', this.file);\n\n      try {\n        const response = await fetch('/api/upload', {\n          method: 'POST',\n          body: formData\n        });\n        this.result = await response.json();\n        this.fetchHistory();\n      } catch (error) {\n        console.error('Eroare la încărcare:', error);\n      }\n    },\n    async fetchHistory() {\n      try {\n        const response = await fetch('/api/history');\n        this.history = await response.json();\n      } catch (error) {\n        console.error('Eroare la obținerea istoricului:', error);\n      }\n    }\n  },\n  mounted() {\n    this.fetchHistory();\n  }\n};\n</script>\n\n<style>\n.container {\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 20px;\n  font-family: Arial, sans-serif;\n}\n.upload-section, .result-section, .history-section {\n  margin-bottom: 20px;\n}\ninput[type=\"file\"] {\n  margin-right: 10px;\n}\nbutton {\n  padding: 10px 20px;\n  background-color: #007bff;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\nbutton:disabled {\n  background-color: #cccccc;\n  cursor: not-allowed;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  padding: 5px 0;\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAW;;EAEfA,KAAK,EAAC;AAAgB;mBAH/B;;EAAAC,GAAA;EAQuBD,KAAK,EAAC;;;EAUpBA,KAAK,EAAC;AAAiB;;uBAjB9BE,mBAAA,CAyBM,OAzBNC,UAyBM,G,0BAxBJC,mBAAA,CAAsC,YAAlC,+BAA6B,QACjCA,mBAAA,CAIM,OAJNC,UAIM,G,0BAHJD,mBAAA,CAA0B,YAAtB,mBAAiB,QACrBA,mBAAA,CAAiE;IAA1DE,IAAI,EAAC,MAAM;IAAEC,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,gBAAA,IAAAD,QAAA,CAAAC,gBAAA,IAAAF,IAAA,CAAgB;IAAEG,MAAM,EAAC;gBACrDR,mBAAA,CAA+D;IAAtDS,OAAK,EAAAL,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAI,WAAA,IAAAJ,QAAA,CAAAI,WAAA,IAAAL,IAAA,CAAW;IAAGM,QAAQ,GAAGC,KAAA,CAAAC;KAAM,SAAO,KAN5DC,UAAA,E,GAQeF,KAAA,CAAAG,MAAM,I,cAAjBjB,mBAAA,CASM,OATNkB,UASM,G,0BARJhB,mBAAA,CAAkB,YAAd,WAAS,QACbA,mBAAA,CAAoC,WAAjC,UAAQ,GAAAiB,gBAAA,CAAGL,KAAA,CAAAG,MAAM,CAACG,QAAQ,OAC7BlB,mBAAA,CAAsD,WAAnD,wBAAsB,GAAAiB,gBAAA,CAAGL,KAAA,CAAAG,MAAM,CAACI,KAAK,CAACC,MAAM,OAC/CpB,mBAAA,CAIK,c,kBAHHF,mBAAA,CAEKuB,SAAA,QAfbC,WAAA,CAaoCV,KAAA,CAAAG,MAAM,CAACI,KAAK,EAbhD,CAaoBI,IAAI,EAAEC,KAAK;yBAAvB1B,mBAAA,CAEK;MAFsCD,GAAG,EAAE2B;IAAK,GAAE,QAChD,GAAAP,gBAAA,CAAGO,KAAK,QAAO,gBAAc,GAAAP,gBAAA,CAAGM,IAAI,CAACE,aAAa,CAACC,IAAI,IAAG,IAAE,GAAAT,gBAAA,CAAGM,IAAI,CAACE,aAAa,CAACE,GAAG,IAAG,IAC/F;mBAfRC,mBAAA,YAkBI5B,mBAAA,CAOM,OAPN6B,UAOM,G,0BANJ7B,mBAAA,CAAuB,YAAnB,gBAAc,QAClBA,mBAAA,CAIK,c,kBAHHF,mBAAA,CAEKuB,SAAA,QAvBbC,WAAA,CAqB8BV,KAAA,CAAAkB,OAAO,EAAlBC,OAAO;yBAAlBjC,mBAAA,CAEK;MAF2BD,GAAG,EAAEkC,OAAO,CAACC;wBACxCD,OAAO,CAACE,SAAS,IAAG,KAAG,GAAAhB,gBAAA,CAAGc,OAAO,CAACG,SAAS,IAAG,IAAE,GAAAjB,gBAAA,CAAGkB,IAAI,CAACC,KAAK,CAACL,OAAO,CAAChB,MAAM,EAAEK,MAAM,IAAG,kBAC5F","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}